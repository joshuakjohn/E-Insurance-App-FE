<body>
    <div class="plan-form-container">
      <h2>Create New Plan</h2>
      <form [formGroup]="planForm">
        <div>
          <div class="form-group">
            <label for="planName">Plan Name*</label>
            <input id="planName" type="text" formControlName="planName" class="form-control">
            <span class="error" *ngIf="isFormSubmitted && planFormControls['planName']?.errors?.['required']">
              Plan Name is required
            </span>
          </div>
          <div class="form-group">
            <label for="description">Description (Optional)</label>
            <textarea id="description" formControlName="description" class="form-control"></textarea>
          </div>
          <div class="form-group">
            <label for="category">Category*</label>
            <input id="category" type="text" formControlName="category" class="form-control">
            <span class="error" *ngIf="isFormSubmitted && planFormControls['category']?.errors?.['required']">
              Category is required
            </span>
          </div>
          <div class="form-group highlights-group">
            <label>Highlights (Optional, up to 5)</label>
            <div *ngFor="let highlight of highlights; let i = index" class="highlight-field">
              <input 
                type="text" 
                [formControlName]="'highlight' + i" 
                placeholder="Enter highlight {{ i + 1 }}" 
                class="form-control">
              <button type="button" class="remove-highlight" (click)="removeHighlight(i)">Remove</button>
            </div>
            <button 
              type="button" 
              class="add-highlight" 
              [disabled]="highlights.length >= 5" 
              (click)="addHighlight()">
              + Add Highlight
            </button>
          </div>
        </div>
        <br>
        <button class="cancelbutton" (click)="onClear()">Clear</button>
        <button class="createplanbutton" (click)="handleSubmit(); onClear()">Create Plan</button>
      </form>
    </div>
  </body>
  