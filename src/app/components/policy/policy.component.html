<div class="container">
  <!-- Loading Indicator -->
  <div *ngIf="!planDetails || !schemeDetails || !customerData" class="loading">
    <p>Loading...</p>
  </div>

  <!-- Display Policy Card if data is available -->
  <div *ngIf="planDetails && schemeDetails && customerData" class="policy-card">
    <!-- Header Section -->
    <div class="policy-card-header">
      <img src="insurance-icon.png" alt="Policy Icon">
    </div>

    <div class="title">
      <h1>{{ planDetails?.planName }}</h1>
      <span class="status">Active</span>
    </div>

    <!-- Eligibility Message Section -->
    <div class="eligibility-message">
      <p>{{ eligibilityMessage }}</p>
    </div>

    <!-- Policy Card Details -->
    <div class="policy-card-details">
      <div class="detail-card">
        <h2>₹{{ schemeDetails?.coverage }}</h2>
        <p>Total Coverage</p>
      </div>
      <div class="detail-card">
        <h2>₹{{ schemeDetails?.premium }}</h2>
        <p>Monthly Premium</p>
      </div>
      <div class="detail-card">
        <h2>{{ schemeDetails?.maturityPeriod }} Months</h2>
        <p>Duration</p>
      </div>
    </div>

    <!-- Benefits Section -->
    <div class="policy-card-benefits">
      <h2>Key Benefits</h2>
      <ul>
        <li>{{ schemeDetails?.description }}</li>
        <li>{{ planDetails?.description }}</li>
        <li>✔ 24/7 customer support</li>
      </ul>
    </div>

    <!-- Eligibility Criteria -->
    <div class="policy-card-benefits">
      <h2>Eligibility Criteria</h2>
      <p>{{ schemeDetails?.eligibilityCriteria }}</p>
    </div>

    <!-- File Upload Section -->
    <div class="file-upload-section">
      <label for="profilePhoto">Profile Photo (Max 5MB)</label>
      <input type="file" id="profilePhoto" (change)="onFileSelect($event, 'profilePhoto')" accept="image/*">

      <label for="uploadedDocuments">Upload Documents (Max 10 files, 5MB each)</label>
      <input type="file" id="uploadedDocuments" (change)="onFileSelect($event, 'uploadedDocuments')" accept="application/pdf, image/*" multiple>
    </div>

    <!-- Action Buttons -->
    <div class="policy-card-actions">
      <button *ngIf="isEligible && !isBuyNowClicked" class="buy-now-btn" (click)="onBuyNowClick()">Buy Now</button>
      <button *ngIf="!isBuyNowClicked" class="go-back-btn" (click)="onGoBackClick()">Go Back</button>
      <button *ngIf="isConfirmVisible" class="confirm-btn" (click)="onConfirmClick()">Confirm</button>
      <button *ngIf="isConfirmVisible" class="cancel-btn" (click)="onCancelClick()">Cancel</button>
    </div>
  </div>
</div>
